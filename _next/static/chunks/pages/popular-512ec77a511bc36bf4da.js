_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"358z":function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),a=n("vJKn"),s=n.n(a),o=n("rg98"),c=n("q1tI"),i=n("g4pe"),u=n.n(i),l=n("aoTL"),p=n("4peS"),f=n.n(p),d=n("dba/"),j=n("9xx/"),b=n("uYoF"),g=n("p7Y9"),h=n("xsdi");function v(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=Object(l.b)((function(){var e=Object(g.b)().rootStore.generalStore,t=Object(c.useState)(!0),n=t[0],a=t[1],i=Object(c.useState)([]),l=i[0],p=i[1],m=Object(c.useState)(1),O=m[0],x=m[1],y=Object(c.useState)(0),_=y[0],w=y[1];Object(c.useEffect)((function(){f.a.get("topPagesCount")&&w(f.a.get("topPagesCount")),f.a.get("topPageData")?N():S()}),[]);var P,k,N=function(){var e,t=f.a.get("topPageData"),n=[],s=v(t);try{for(s.s();!(e=s.n()).done;){var o=e.value,c=t.indexOf(o);n.push(Object(r.jsx)(d.a,{id:o.props.id,title:o.props.title,poster:o.props.poster,year:o.props.year,country:o.props.country,genre:o.props.genre,rating:o.props.rating,vote:o.props.vote},"latest".concat(c)))}}catch(i){s.e(i)}finally{s.f()}p(n),a(!1)},S=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,o,c,i,u,l,j,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_250_BEST_FILMS&page=".concat(O),{headers:{"X-API-KEY":h.b,accept:"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).error&&console.error(n.error),w(n.pagesCount),f.a.set("topPagesCount",n.pagesCount),o=[],c=v(n.films),e.prev=11,c.s();case 13:if((i=c.n()).done){e.next=25;break}return u=i.value,l=n.films.indexOf(u),e.next=18,fetch("https://bazon.cc/api/search?token=".concat(h.d,"&kp=").concat(u.filmId));case 18:return j=e.sent,e.next=21,j.json();case 21:(b=e.sent).results&&o.push(Object(r.jsx)(d.a,{id:b.results[0].kinopoisk_id,title:b.results[0].info.rus,poster:b.results[0].info.poster,year:b.results[0].info.year,country:b.results[0].country||u.countries[0].country,genre:b.results[0].genre||u.genres[0].genre,rating:b.results[0].info.rating.rating_imdb,vote:b.results[0].info.rating.vote_num_imdb},"top".concat(l)));case 23:e.next=13;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(11),c.e(e.t0);case 30:return e.prev=30,c.f(),e.finish(30);case 33:f.a.get("topPageData")||f.a.set("topPageData",o),p(o.sort((function(e,t){return t.vote-e.vote}))),a(!1);case 36:case"end":return e.stop()}}),e,null,[[11,27,30,33]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)("title",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e | YOURCINEMA.COM.UA"}),Object(r.jsx)("meta",{name:"description",content:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b \u043d\u0430 YOURCINEMA.COM.UA"})]}),n?Object(r.jsx)(j.a,{}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h1",{className:"page__title",children:(P="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435",k="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456","ua"===e.currLang?k:P)}),Object(r.jsx)("div",{className:"filmsRow",children:l}),Object(r.jsx)(b.a,{click:function(e){a(!0),x(e),S(),window.scrollTo(0,0)},curPage:O,totalPages:_})]})]})}));t.default=O},UefJ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/popular",function(){return n("358z")}])},e63f:function(e,t,n){e.exports={wrapper:"BasePagination_wrapper__2XnGA",current:"BasePagination_current__-gP82",item:"BasePagination_item__2M1JS"}},uYoF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nKUr"),a=(n("q1tI"),n("e63f")),s=n.n(a),o=function(e){var t=e.curPage,n=e.totalPages,a=e.click;return Object(r.jsx)("div",{className:s.a.wrapper,children:function(){var e=[];return t>=3&&e.push(Object(r.jsx)("div",{className:s.a.item,onClick:function(){return a(1)},children:1})),t>=4&&e.push(Object(r.jsx)("div",{className:s.a.item,children:"..."})),t>=2&&e.push(Object(r.jsx)("div",{className:s.a.item,onClick:function(){return a(t-1)},children:t-1})),e.push(Object(r.jsx)("div",{className:s.a.current,children:t})),t+1<n&&e.push(Object(r.jsx)("div",{className:s.a.item,onClick:function(){return a(t+1)},children:t+1})),t<n-2&&e.push(Object(r.jsx)("div",{className:s.a.item,children:"..."})),t<n&&e.push(Object(r.jsx)("div",{className:s.a.item,onClick:function(){return a(n)},children:n})),e}()})}}},[["UefJ",0,1,4,3,2,5]]]);